# Extend standard-lib
# https://direnv.net/man/direnv-stdlib.1.html
# 
# Usage: use ruby <version>
# Loads the specified ruby version into the environment
use_ruby() {
  source_up_if_exists
  search_version=$(semver_search "$HOME/.rubies" "" "${1}")
  local dir="$HOME/.rubies/${search_version}"

  PATH_add $dir
  load_prefix $dir
  layout ruby
}

# Use newest version of node specified.
# Usage: use node <version>
# For installation see "install_node" function.
# Relies on NODE_VERSIONS being set.
use_node() {
  source_up_if_exists
  search_version=$(semver_search "$NODE_VERSIONS" "" "${1}")
  local dir="${NODE_VERSIONS}/${search_version}"

  PATH_add $dir
  load_prefix $dir
  layout node
}
